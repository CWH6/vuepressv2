---
title: çº¿ç¨‹æ± 
date: 2024/02/09
categories:
 - èœå•
---

### ğŸš¤ä¸ºä»€ä¹ˆéœ€è¦çº¿ç¨‹æ± 
åœ¨å¤„ç†å¤§é‡ä»»åŠ¡ï¼Œé¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ä¼šæµªè´¹æ—¶é—´å’Œæ•ˆç‡,å°¤å…¶æ˜¯æµªè´¹å†…å­˜ã€‚

çº¿ç¨‹æ± èƒ½åšåˆ°è®©çº¿ç¨‹é‡å¤åˆ©ç”¨ï¼Œè®©ä»–ä»¬ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡è€Œä¸æ˜¯ç«‹å³é”€æ¯

çº¿ç¨‹æ± é€šè¿‡é¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„çº¿ç¨‹ï¼Œè®©è¿™äº›çº¿ç¨‹å¤„ç†æ¥è‡ªä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œè€Œä¸æ˜¯é¢‘ç¹åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹

### ğŸ£ä¼˜ç‚¹

çº¿ç¨‹æ± å¯ä»¥`å‡å°‘åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„æ¬¡æ•°`,`æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½`,çº¿ç¨‹æ± ä¸­çš„å·¥ä½œçº¿ç¨‹å¯ä»¥é‡å¤åˆ©ç”¨,å‡å°‘çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯å¼€é”€

æ ¹æ®ç³»ç»Ÿçš„æ‰¿å—èƒ½åŠ›è°ƒæ•´çº¿ç¨‹æ± ä¸­å·¥ä½œçº¿ç¨‹çš„æ•°é‡,`é˜²æ­¢è¿‡å¤šçš„å†…å­˜æ¶ˆè€—å¯¼è‡´æœåŠ¡å™¨å´©æºƒ`ã€‚`æé«˜åº”ç”¨ç¨‹åºçš„å¯é æ€§å’Œç¨³å®šæ€§`

### ğŸ˜­ç¼ºç‚¹
ç”¨çº¿ç¨‹æ± æ„å»ºçš„åº”ç”¨ç¨‹åºå®¹æ˜“é­å—`åŒæ­¥é”™è¯¯å’Œæ­»é”ç­‰å¹¶å‘é£é™©`,æ­¤å¤–ï¼Œçº¿ç¨‹æ± è¿˜å®¹æ˜“é­å—ç‰¹å®šçš„é£é™©ã€‚
å¦‚ä¸æ± æœ‰å…³çš„æ­»é”ã€èµ„æºä¸è¶³å’Œçº¿ç¨‹æ³„æ¼ã€‚

å¤„ç†ï¼šåœ¨ä½¿ç”¨çº¿ç¨‹æ± ä¸­,ç‰¹åˆ«æ³¨æ„çº¿ç¨‹å®‰å…¨å’Œèµ„æºç®¡ç†ç­‰é—®é¢˜ã€‚

### ğŸ”·ä½¿ç”¨åœºæ™¯

**WebæœåŠ¡å™¨**ï¼š

å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„HTTPè¯·æ±‚ã€‚æ¯ä¸ªè¯·æ±‚éƒ½å¯ä»¥åˆ†é…ç»™çº¿ç¨‹æ± ä¸­çš„ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†ï¼Œä»¥æé«˜æœåŠ¡å™¨çš„ååé‡å’Œæ€§èƒ½ã€‚

**æ•°æ®åº“è¿æ¥æ± **ï¼š

ç®¡ç†æ•°æ®åº“è¿æ¥ä»¥åŠæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ã€‚é€šè¿‡ä½¿ç”¨çº¿ç¨‹æ± ï¼Œå¯ä»¥é‡ç”¨ç°æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œå¹¶åœ¨éœ€è¦æ—¶ä¸ºæ–°è¯·æ±‚åˆ†é…è¿æ¥ï¼Œä»¥å‡å°‘è¿æ¥åˆ›å»ºå’Œé”€æ¯çš„å¼€é”€ã€‚

**ç”µå•†ç½‘ç«™çš„åº“å­˜ç®¡ç†**ï¼š

å®šæœŸæ£€æŸ¥åº“å­˜å¹¶æ›´æ–°æ•°æ®åº“ã€‚é€šè¿‡ä½¿ç”¨çº¿ç¨‹æ± ï¼Œå¯ä»¥å°†è¿™äº›ä»»åŠ¡å¼‚æ­¥æ‰§è¡Œï¼Œè€Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å“åº”æ€§å’Œæ€§èƒ½ã€‚

**ç½‘ç»œçˆ¬è™«**ï¼š

ä»ç½‘ç«™ä¸ŠæŠ“å–æ•°æ®ã€‚çˆ¬å–è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½éœ€è¦å¹¶å‘åœ°æŠ“å–å¤šä¸ªé¡µé¢ï¼Œå¹¶ä½¿ç”¨çº¿ç¨‹æ± æ¥ç®¡ç†å¹¶å‘ä»»åŠ¡çš„æ‰§è¡Œ

**æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆè´¹è€…**ï¼š 

ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¶ˆè´¹æ¶ˆæ¯å¹¶æ‰§è¡Œç›¸åº”çš„ä¸šåŠ¡é€»è¾‘ã€‚é€šè¿‡ä½¿ç”¨çº¿ç¨‹æ± ï¼Œå¯ä»¥å¹¶å‘åœ°å¤„ç†å¤šä¸ªæ¶ˆæ¯ï¼Œå¹¶æ ¹æ®ç³»ç»Ÿè´Ÿè½½åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ•°é‡

**æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½æœåŠ¡**ï¼š 

å¤„ç†ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ï¼Œå¹¶æä¾›ä¸‹è½½æœåŠ¡ã€‚é€šè¿‡ä½¿ç”¨çº¿ç¨‹æ± ï¼Œå¯ä»¥å¼‚æ­¥åœ°å¤„ç†æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ä»»åŠ¡ï¼Œæé«˜ç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›

**å¤§æ•°æ®å¤„ç†**ï¼š

å¤„ç†å¤§è§„æ¨¡æ•°æ®é›†åˆçš„è®¡ç®—ä»»åŠ¡ã€‚é€šè¿‡ä½¿ç”¨çº¿ç¨‹æ± ï¼Œå¯ä»¥å¹¶è¡Œåœ°å¤„ç†æ•°æ®ï¼ŒåŠ é€Ÿæ•°æ®å¤„ç†è¿‡ç¨‹ã€‚


### ğŸ“¦åˆ›å»ºæ–¹å¼

åœ¨Javaä¸­ï¼Œåˆ›å»ºçº¿ç¨‹æ± é€šå¸¸ä½¿ç”¨ java.util.concurrent åŒ…ä¸­çš„ ExecutorService æ¥å£åŠå…¶å®ç°ç±»ã€‚å¸¸è§çš„çº¿ç¨‹æ± åˆ›å»ºæ–¹å¼åŒ…æ‹¬ï¼š

**newFixedThreadPool(int nThreads)**

åˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ•°é‡å›ºå®šä¸”ä¸ä¼šæ”¹å˜ã€‚å¦‚æœæ‰€æœ‰çº¿ç¨‹éƒ½å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œåç»­ä»»åŠ¡å°†ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚

```java
ExecutorService fixedThreadPool = Executors.newFixedThreadPool(5);
```

**newCachedThreadPool()**

åˆ›å»ºä¸€ä¸ªæ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œä½†åœ¨æœ‰å¯ç”¨çº¿ç¨‹æ—¶å°†é‡ç”¨ä¹‹å‰æ„é€ çš„çº¿ç¨‹ã€‚å½“æ‰€æœ‰çº¿ç¨‹éƒ½å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ¥å¤„ç†æ–°çš„ä»»åŠ¡ã€‚


``` java
ExecutorService cachedThreadPool = Executors.newCachedThreadPool();
```

 **newSingleThreadExecutor()**

åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œåªæœ‰ä¸€ä¸ªå·¥ä½œçº¿ç¨‹åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰é¡ºåºæ‰§è¡Œ

```java
ExecutorService singleThreadExecutor = Executors.newSingleThreadExecutor();
```

**newScheduledThreadPool(int corePoolSize)**

åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°çš„çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œã€‚

```java
ExecutorService scheduledThreadPool = Executors.newScheduledThreadPool(5);
```

**newWorkStealingPool(int parallelism)**

åˆ›å»ºä¸€ä¸ªå·¥ä½œçªƒå–çº¿ç¨‹æ± ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ç»´æŠ¤è‡ªå·±çš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œç©ºé—²æ—¶ä»å…¶ä»–çº¿ç¨‹é˜Ÿåˆ—ä¸­çªƒå–ä»»åŠ¡æ‰§è¡Œã€‚

```java
ExecutorService workStealingPool = Executors.newWorkStealingPool();
```


### ğŸ§ æ —å­

> ä½¿ç”¨ newFixedThreadPool(int nThreads) æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªå›ºå®šå¤§å°ä¸º5çš„çº¿ç¨‹æ± ,å¹¶æäº¤äº†10ä¸ªä»»åŠ¡ç»™çº¿ç¨‹æ± æ‰§è¡Œã€‚ç”±äºçº¿ç¨‹æ± çš„å¤§å°ä¸º5ï¼Œå› æ­¤æœ€å¤šåŒæ—¶æœ‰5ä¸ªä»»åŠ¡åœ¨å¹¶å‘æ‰§è¡Œã€‚æ¯ä¸ªä»»åŠ¡éƒ½ä¼šæ‰“å°å…¶ä»»åŠ¡ç¼–å·å’Œæ‰§è¡Œçº¿ç¨‹çš„åç§°ï¼Œå¹¶æ¨¡æ‹Ÿæ‰§è¡Œ1ç§’é’Ÿçš„ä»»åŠ¡ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œå…³é—­çº¿ç¨‹æ± ã€‚

```java
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class Main {
    public static void main(String[] args) {
        // åˆ›å»ºå›ºå®šå¤§å°ä¸º5çš„çº¿ç¨‹æ± 
        ExecutorService executor = Executors.newFixedThreadPool(5);
        
        // æäº¤10ä¸ªä»»åŠ¡ç»™çº¿ç¨‹æ± æ‰§è¡Œ
        for (int i = 0; i < 10; i++) {
            executor.execute(new Task(i));
        }
        
        // å…³é—­çº¿ç¨‹æ± 
        executor.shutdown();
    }
    
    static class Task implements Runnable {
        private final int taskId;
        
        public Task(int taskId) {
            this.taskId = taskId;
        }
        
        @Override
        public void run() {
            System.out.println("Task " + taskId + " is running on thread: " + Thread.currentThread().getName());
            try {
                Thread.sleep(1000); // æ¨¡æ‹Ÿä»»åŠ¡æ‰§è¡Œ
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
            System.out.println("Task " + taskId + " is complete.");
        }
    }
}

```